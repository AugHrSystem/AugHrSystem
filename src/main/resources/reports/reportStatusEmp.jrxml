<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="reportStatusEmp" language="groovy" pageWidth="1152" pageHeight="595" orientation="Landscape" columnWidth="1112" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="90f2bbd1-b769-4670-89ed-f1c57eef3981">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="233"/>
	<property name="ireport.y" value="0"/>
	<queryString>
		<![CDATA[select 		emp.ID as id, emp.EMPLOYEE_CODE as employeeCode,
			emp.NAME_THAI as nameThai,
			emp.NAME_ENG as nameEng,
            emp.DATEOFBIRTH as dateOfBirth,
            emp.AGE as age,
            emp.STATUSEMP as statusemp,
            EMP_OFFICIAL.START_WORK_DATE as startWorkDate,
            site.PROJECTOWNER as projectOwner,
			site.STARTDATE as startDate, site.ENDDATE as endDate,
            YEAR(CURDATE()) - YEAR(dateOfBirth) - IF(STR_TO_DATE(CONCAT(YEAR(CURDATE()), '/', MONTH(dateOfBirth), '/', DAY(dateOfBirth)) ,'%Y-%c-%e') > CURDATE(), 1, 0) as year,
            MONTH(curdate()) - MONTH(dateOfBirth) - IF(STR_TO_DATE(CONCAT(YEAR(CURDATE()), '/', MONTH(dateOfBirth), '/', DAY(dateOfBirth)) ,'%Y-%c-%e') > CURDATE(), 1, 0) as month,
            DAY(curdate()) - DAY(dateOfBirth) - IF(STR_TO_DATE(CONCAT(YEAR(CURDATE()), '/', MONTH(dateOfBirth), '/', DAY(dateOfBirth)) ,'%Y-%c-%e') > CURDATE(), 1, 0) as day,


            YEAR(CURDATE()) - YEAR(START_WORK_DATE) - IF(STR_TO_DATE(CONCAT(YEAR(CURDATE()), '/', MONTH(START_WORK_DATE), '/', DAY(START_WORK_DATE)) ,'%Y-%c-%e') > CURDATE(), 1, 0) as yearwork,
            MONTH(curdate()) - MONTH(START_WORK_DATE) - IF(STR_TO_DATE(CONCAT(YEAR(CURDATE()), '/', MONTH(START_WORK_DATE), '/', DAY(START_WORK_DATE)) ,'%Y-%c-%e') > CURDATE(), 1, 0) as monthwork,
            DAY(curdate()) - DAY(START_WORK_DATE) - IF(STR_TO_DATE(CONCAT(YEAR(CURDATE()), '/', MONTH(START_WORK_DATE), '/', DAY(START_WORK_DATE)) ,'%Y-%c-%e') > CURDATE(), 1, 0) as daywork



from EMP_EMPLOYEE as emp
join EMP_SITE as site on site.employee_ID = emp.ID
join EMP_OFFICIAL on emp.OFFICIAL_ID = EMP_OFFICIAL.ID]]>
	</queryString>
	<field name="id" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="employeeCode" class="java.lang.String"/>
	<field name="nameThai" class="java.lang.String"/>
	<field name="nameEng" class="java.lang.String"/>
	<field name="dateOfBirth" class="java.sql.Timestamp">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="age" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="statusemp" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="startWorkDate" class="java.sql.Timestamp"/>
	<field name="projectOwner" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="startDate" class="java.sql.Timestamp">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="endDate" class="java.sql.Timestamp">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="year" class="java.lang.Long">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="month" class="java.lang.Long"/>
	<field name="day" class="java.lang.Long"/>
	<field name="yearwork" class="java.lang.Long"/>
	<field name="monthwork" class="java.lang.Long"/>
	<field name="daywork" class="java.lang.Long"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="50"/>
	</title>
	<pageHeader>
		<band height="50">
			<staticText>
				<reportElement x="341" y="5" width="438" height="35" uuid="2e247366-d2cc-490d-955d-284576b1f311"/>
				<textElement textAlignment="Center">
					<font size="24"/>
				</textElement>
				<text><![CDATA[Employee Status Report]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="65">
			<staticText>
				<reportElement x="297" y="37" width="11" height="20" uuid="093bc9fe-2135-46e3-b5e7-a000ebbc396c"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[D]]></text>
			</staticText>
			<staticText>
				<reportElement x="257" y="37" width="20" height="20" uuid="76bb06eb-1f99-49d7-b5ad-5820aade3caa"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[M]]></text>
			</staticText>
			<staticText>
				<reportElement x="222" y="37" width="12" height="20" uuid="95a005df-e521-41cf-972c-2007bd7717a2"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Y]]></text>
			</staticText>
			<staticText>
				<reportElement x="565" y="39" width="21" height="20" uuid="ee728ff2-275e-4469-a905-0905501ce01c"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[D]]></text>
			</staticText>
			<staticText>
				<reportElement x="518" y="39" width="19" height="20" uuid="2325045f-cfaf-429b-88a7-d4ba399f30f9"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[M]]></text>
			</staticText>
			<staticText>
				<reportElement x="472" y="39" width="17" height="20" uuid="76ce2df9-b709-4d22-81a3-9f724a4b64c2"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Y]]></text>
			</staticText>
			<staticText>
				<reportElement x="756" y="28" width="116" height="20" uuid="16d31129-c7ae-41f9-aaac-13aeade43abd"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Resource Name(EN)]]></text>
			</staticText>
			<staticText>
				<reportElement x="617" y="29" width="125" height="20" uuid="c8651c81-290d-4599-ab79-2d234e5e00d8"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Resource Name(TH)]]></text>
			</staticText>
			<staticText>
				<reportElement x="507" y="16" width="36" height="17" uuid="5c07e9d5-44dc-428e-98ad-c8b7be7b674b"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[AGE]]></text>
			</staticText>
			<staticText>
				<reportElement x="356" y="29" width="67" height="20" uuid="708b3e50-e949-4edf-8cbf-756872997aa1"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Birth Date]]></text>
			</staticText>
			<staticText>
				<reportElement x="21" y="27" width="80" height="20" uuid="9afed371-24e7-4712-8ed1-330384aba023"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Resource ID.]]></text>
			</staticText>
			<staticText>
				<reportElement x="1035" y="29" width="63" height="20" uuid="483e383b-5460-45de-894a-8b581b6c35d7"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[EndDate]]></text>
			</staticText>
			<staticText>
				<reportElement x="944" y="29" width="71" height="20" uuid="4103b271-52ee-4bce-84c4-d9de4380c966"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[StartDate]]></text>
			</staticText>
			<staticText>
				<reportElement x="886" y="29" width="43" height="20" uuid="e8d6ee5a-bf42-49f5-8005-758208b64465"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Status]]></text>
			</staticText>
			<staticText>
				<reportElement x="222" y="16" width="98" height="18" uuid="920c355d-9819-41a8-b260-95d868b1623f"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Duration (work)]]></text>
			</staticText>
			<staticText>
				<reportElement x="105" y="28" width="105" height="20" uuid="abecbcf6-cc54-48ad-a7dc-208866c3907a"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Date Start Work]]></text>
			</staticText>
			<line>
				<reportElement x="1" y="56" width="1111" height="3" uuid="71132fec-0feb-4d27-aaa3-110de43ecaf4"/>
			</line>
			<line>
				<reportElement x="211" y="32" width="109" height="1" uuid="05d3c6e6-83d6-4572-b1ae-bfe0a62f1375"/>
			</line>
			<line>
				<reportElement x="458" y="32" width="124" height="1" uuid="3768cca1-1ee2-4c5c-b4fe-53b70712b60a"/>
			</line>
		</band>
	</columnHeader>
	<detail>
		<band height="54">
			<textField>
				<reportElement x="24" y="19" width="74" height="20" uuid="efe16d71-5480-41df-800e-623f4ffbc8f1"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{employeeCode}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="348" y="19" width="87" height="20" uuid="ec20395a-baa7-4a6f-a2b7-ea5374a24999"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{dateOfBirth}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="646" y="17" width="92" height="20" uuid="c92b9f14-9817-4dd6-a102-a5ac22ba2dfd"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nameThai}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="780" y="18" width="86" height="20" uuid="970eaf47-541f-422a-9347-3b23b42579ef"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nameEng}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="946" y="18" width="69" height="20" uuid="c8e23374-bcb7-4994-93e5-4d28b6bb2a3c"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{startDate}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="1029" y="18" width="77" height="20" uuid="bf552dde-a07e-464c-b78c-833d2f9226d0"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{endDate}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="464" y="20" width="36" height="20" uuid="f2dd3cf6-afeb-4a15-a364-3fd0f427fc9c"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{year}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="510" y="20" width="29" height="20" uuid="9ea2451b-27b5-4e75-8712-b062d10528cc"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{month}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="558" y="20" width="24" height="20" uuid="45d5b382-0662-4d14-83c2-e355a0781ff0"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{day}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="122" y="19" width="67" height="20" uuid="70d4937e-16c2-4122-9e4f-ca2840d0eaca"/>
				<textElement>
					<font size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{startWorkDate}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="895" y="18" width="36" height="20" uuid="9653ac16-1920-4927-acc0-ae6bad7c30fd"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{statusemp}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="212" y="19" width="30" height="20" uuid="a8e37dbc-07a7-4ae5-b4ba-492323cb3aa0"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{yearwork}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="252" y="19" width="29" height="20" uuid="e227b538-c989-44fe-9c7e-14920f39b12c"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{monthwork}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="293" y="19" width="27" height="20" uuid="185cacc8-46ba-4620-9bb0-2f929561cceb"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{daywork}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="1" y="46" width="1111" height="1" forecolor="#CC0000" uuid="c69f083a-1bf7-4db2-a463-17a662b07771"/>
			</line>
		</band>
	</detail>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
