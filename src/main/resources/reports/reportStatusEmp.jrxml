<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="reportStatusEmp" language="groovy" pageWidth="1224" pageHeight="595" orientation="Landscape" columnWidth="1184" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="2d3c3217-4ead-4895-ba23-982db41308ff">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="311"/>
	<property name="ireport.y" value="0"/>
	<queryString>
		<![CDATA[select 		emp.ID as id, emp.EMPLOYEE_CODE as employeeCode,
			emp.NAME_THAI as nameThai,
			emp.NAME_ENG as nameEng,
            emp.DATEOFBIRTH as dateOfBirth,
            emp.AGE as age,
            emp.STATUSEMP as statusemp,
            EMP_OFFICIAL.START_WORK_DATE as startWorkDate,
            site.PROJECTOWNER as projectOwner,
			site.STARTDATE as startDate, site.ENDDATE as endDate,
            YEAR(CURDATE()) - YEAR(dateOfBirth) - IF(STR_TO_DATE(CONCAT(YEAR(CURDATE()), '/', MONTH(dateOfBirth), '/', DAY(dateOfBirth)) ,'%Y-%c-%e') > CURDATE(), 1, 0) as year,
            MONTH(curdate()) - MONTH(dateOfBirth) - IF(STR_TO_DATE(CONCAT(YEAR(CURDATE()), '/', MONTH(dateOfBirth), '/', DAY(dateOfBirth)) ,'%Y-%c-%e') > CURDATE(), 1, 0) as month,
            DAY(curdate()) - DAY(dateOfBirth) - IF(STR_TO_DATE(CONCAT(YEAR(CURDATE()), '/', MONTH(dateOfBirth), '/', DAY(dateOfBirth)) ,'%Y-%c-%e') > CURDATE(), 1, 0) as day,


            YEAR(CURDATE()) - YEAR(START_WORK_DATE) - IF(STR_TO_DATE(CONCAT(YEAR(CURDATE()), '/', MONTH(START_WORK_DATE), '/', DAY(START_WORK_DATE)) ,'%Y-%c-%e') > CURDATE(), 1, 0) as yearwork,
            MONTH(curdate()) - MONTH(START_WORK_DATE) - IF(STR_TO_DATE(CONCAT(YEAR(CURDATE()), '/', MONTH(START_WORK_DATE), '/', DAY(START_WORK_DATE)) ,'%Y-%c-%e') > CURDATE(), 1, 0) as monthwork,
            DAY(curdate()) - DAY(START_WORK_DATE) - IF(STR_TO_DATE(CONCAT(YEAR(CURDATE()), '/', MONTH(START_WORK_DATE), '/', DAY(START_WORK_DATE)) ,'%Y-%c-%e') > CURDATE(), 1, 0) as daywork



from EMP_EMPLOYEE as emp
join EMP_SITE as site on site.employee_ID = emp.ID
join EMP_OFFICIAL on emp.OFFICIAL_ID = EMP_OFFICIAL.ID]]>
	</queryString>
	<field name="id" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="employeeCode" class="java.lang.String"/>
	<field name="nameThai" class="java.lang.String"/>
	<field name="nameEng" class="java.lang.String"/>
	<field name="dateOfBirth" class="java.sql.Timestamp">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="age" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="statusemp" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="startWorkDate" class="java.sql.Timestamp"/>
	<field name="projectOwner" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="startDate" class="java.sql.Timestamp">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="endDate" class="java.sql.Timestamp">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="year" class="java.lang.Long">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="month" class="java.lang.Long"/>
	<field name="day" class="java.lang.Long"/>
	<field name="yearwork" class="java.lang.Long"/>
	<field name="monthwork" class="java.lang.Long"/>
	<field name="daywork" class="java.lang.Long"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="57" splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="65" splitType="Stretch">
			<staticText>
				<reportElement x="360" y="16" width="438" height="35" uuid="0a4f650c-b367-48cf-b64b-10af30f168ab"/>
				<textElement textAlignment="Center">
					<font size="24"/>
				</textElement>
				<text><![CDATA[Employee Status Report]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="61" splitType="Stretch">
			<staticText>
				<reportElement x="374" y="17" width="67" height="20" uuid="4a6235d6-1f5e-4409-9af4-59a2a4264a52"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Birth Date]]></text>
			</staticText>
			<line>
				<reportElement x="476" y="20" width="124" height="1" uuid="d0b52305-e6d6-46e1-8763-7bbd04a11b43"/>
			</line>
			<staticText>
				<reportElement x="525" y="4" width="36" height="17" uuid="6dc432cf-3dae-4fc6-b924-d8f08387e4e8"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[AGE]]></text>
			</staticText>
			<staticText>
				<reportElement x="635" y="17" width="125" height="20" uuid="5aefa418-6c0c-4e1f-ae9b-5cd0569034ba"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Resource Name(TH)]]></text>
			</staticText>
			<line>
				<reportElement x="229" y="20" width="109" height="1" uuid="3026a5e1-f6f9-439a-9297-4603012819fd"/>
			</line>
			<staticText>
				<reportElement x="123" y="16" width="105" height="20" uuid="15b1f34a-a5df-4ef0-9e53-5bbb542054f8"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Date Start Work]]></text>
			</staticText>
			<staticText>
				<reportElement x="39" y="15" width="80" height="20" uuid="cb14583e-e8ed-494f-9fa8-7ea7c29369a1"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Resource ID.]]></text>
			</staticText>
			<staticText>
				<reportElement x="904" y="17" width="43" height="20" uuid="24dccfa7-7fdf-4a17-93ea-fe888206fe9e"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Status]]></text>
			</staticText>
			<staticText>
				<reportElement x="1053" y="17" width="63" height="20" uuid="2acbc22c-2001-44fb-9c46-ad5cc9b3d723"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[EndDate]]></text>
			</staticText>
			<line>
				<reportElement x="19" y="44" width="1111" height="3" uuid="f3297f67-3fdc-4f42-97d8-8e0ca1226a8a"/>
			</line>
			<staticText>
				<reportElement x="240" y="4" width="98" height="18" uuid="0f133781-d7b1-4f04-bc70-405e46c33ebb"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Duration (work)]]></text>
			</staticText>
			<staticText>
				<reportElement x="962" y="17" width="71" height="20" uuid="54e38b5a-2c7c-48f8-88ab-8825b20a46e6"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[StartDate]]></text>
			</staticText>
			<staticText>
				<reportElement x="774" y="16" width="116" height="20" uuid="f99aca09-ffde-4bcc-b601-ac3a78a3b931"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Resource Name(EN)]]></text>
			</staticText>
			<staticText>
				<reportElement x="489" y="27" width="17" height="20" uuid="34df9f7e-fce7-4a01-8c49-f486777938d6"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Y]]></text>
			</staticText>
			<staticText>
				<reportElement x="536" y="27" width="19" height="20" uuid="cb374aca-cdcf-4fef-b236-12e89af2fcdb"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[M]]></text>
			</staticText>
			<staticText>
				<reportElement x="583" y="27" width="21" height="20" uuid="08a48c35-4d2a-4283-aa26-8b1c7cae7c06"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[D]]></text>
			</staticText>
			<staticText>
				<reportElement x="240" y="25" width="12" height="20" uuid="f21d6930-3baf-4a71-8cd9-4b632512572e"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Y]]></text>
			</staticText>
			<staticText>
				<reportElement x="275" y="25" width="20" height="20" uuid="3044aafa-b0c9-478f-9faf-6428f086f313"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[M]]></text>
			</staticText>
			<staticText>
				<reportElement x="315" y="25" width="11" height="20" uuid="e43e4684-2843-4be9-9375-81d1be0ce71a"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[D]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="56" splitType="Stretch">
			<textField>
				<reportElement x="42" y="7" width="74" height="20" uuid="e51cd9bf-1d44-4b61-b1ab-fae7ac0ae863"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{employeeCode}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="366" y="7" width="87" height="20" uuid="c56654e3-1670-42d8-afa4-536bdef49e02"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{dateOfBirth}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="664" y="5" width="92" height="20" uuid="920ca227-8bf4-485a-acee-f8fdc5c07fa8"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nameThai}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="798" y="6" width="86" height="20" uuid="666897c2-e39c-417e-b66c-7207f286b6f3"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nameEng}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="964" y="6" width="69" height="20" uuid="08c6f698-b4e5-4537-9e93-c30888e3de06"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{startDate}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="1047" y="6" width="77" height="20" uuid="f69c5e1d-9251-4617-acc4-4e50f3778139"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{endDate}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="482" y="8" width="36" height="20" uuid="bf3cacce-99c5-46dc-91c2-03371cb7358b"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{year}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="528" y="8" width="29" height="20" uuid="f1834d15-7db7-4fc7-9c88-17372f4c84a5"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{month}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="576" y="8" width="24" height="20" uuid="b0f559fd-d263-43b4-91f4-be000b057baa"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{day}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="140" y="7" width="67" height="20" uuid="649cd004-d53a-476b-ad02-4dd62201d8e9"/>
				<textElement>
					<font size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{startWorkDate}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="913" y="6" width="36" height="20" uuid="24b98b31-071b-4c29-a6fb-5f33bcc4edfc"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{statusemp}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="230" y="7" width="30" height="20" uuid="062f5ca1-ae17-4d95-ba4d-925cc1143443"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{yearwork}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="270" y="7" width="29" height="20" uuid="21c4242c-2ddc-4ce9-8369-4e71f56a87f6"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{monthwork}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="311" y="7" width="27" height="20" uuid="458dda72-b0d6-4946-8b74-371b99d819ee"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{daywork}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="19" y="34" width="1111" height="1" forecolor="#CC0000" uuid="f23f4cea-2811-4857-9d32-88f4f8b2f50d"/>
			</line>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
